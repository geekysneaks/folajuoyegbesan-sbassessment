<section class="pdp-faq" data-simple-accordion>
  <h2>{{ section.settings.heading }}</h2>

  {% if section.blocks.size > 0 %}
    {% for block in section.blocks %}
      <details {% if forloop.first %}open{% endif %} {{ block.shopify_attributes }}>
        <summary>{{ block.settings.q }}</summary>
        <div class="rte">{{ block.settings.a }}</div>
      </details>
    {% endfor %}
  {% else %}
    <p><small>Add FAQ items in the Theme Editor.</small></p>
  {% endif %}
</section>

{% schema %}
{
  "name": "PDP - FAQ Accordion",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "FAQ" }
  ],
  "blocks": [
    {
      "type": "faq",
      "name": "FAQ Item",
      "settings": [
        { "type": "text", "id": "q", "label": "Question" },
        { "type": "richtext", "id": "a", "label": "Answer" }
      ]
    }
  ],
  "presets": [
    { "name": "PDP - FAQ Accordion" }
  ]
}
{% endschema %}